/*
 * GPS_Priv.c
 *
 *  Created on: Mar 15, 2022
 *      Author: SHAABAN
 */


#include "LIB/STD_TYPES.h"
#include "LIB/errorStates.h"


#include "GPS_Cnfg.h"
#include "GPS_Priv.h"

static GPS_FLAGS_t  GPS_Flags ;
//  0.........  10  ....  15 ....  20  .  22  .......... 33  .  35  .............................
//  043338.100  ,   5404  .  2675  ,   N  ,   00159.7569  ,  W  ,   1,10,4.00,100.0,M,50.0,M,,*72

inline void   GPS_inlinevidAsciiToInt(const u8* GPS_constu8_Buffer , f32* Copy_pf32Lat , f32* Copy_pf32Long   )
{
	u8 Local_u8Counter ;

	//	u8 Local_u8_Subs_Of_First_Comma   = 0  ;
	//	u8 Local_u8_Subs_Of_Second_Comma  = 0  ;
	//	u8 Local_u8_Subs_Of_Third_Comma   = 0  ;
	//	u8 Local_u8_Subs_Of_Fourth_Comma  = 0  ;
	//

	//
	//	u8   LAT_COMMA_FLAG :           1 ;
	//	u8   LONG_COMMA_FLAG:           1 ;
	//	u8   FIRST_DIR_FLAG :           1 ;
	//	u8   SECOND_DIR_FLAG:           1 ;
	//	u8   DOT_FLAG       :           1 ;


	u8 Local_u8IntPortion= 0 ;

	//  0.........  10  ....  15 ....  20  .  22  .......... 33  .  35  .............................
	//  043338.100  ,   5404  .  2675  ,   N  ,   00159.7569  ,  W  ,   1,10,4.00,100.0,M,50.0,M,,*72

	while( ! GPS_Flags.FLAG.LAT_COMMA_FLAG  )
	{
		if(*GPS_constu8_Buffer != ',')
		{
			GPS_constu8_Buffer++;
		}
		else
		{
			GPS_Flags.FLAG.LAT_COMMA_FLAG
		}

	}

	//  10  ....  15 ....  20  .  22  .......... 33  .  35  .............................
	//  ,   5404  .  2675  ,   N  ,   00159.7569  ,  W  ,   1,10,4.00,100.0,M,50.0,M,,*72

	GPS_constu8_Buffer++;

	//  ....  15 ....  20  .  22  .......... 33  .  35  .............................
	//  5404  .  2675  ,   N  ,   00159.7569  ,  W  ,   1,10,4.00,100.0,M,50.0,M,,*72

	while( *GPS_constu8_Buffer != '.' )
	{

		GPS_constu8_Buffer++;
	}



	while( *GPS_constu8_Buffer != '.' )
	{
		//5404

		Local_u8IntPortion=(*GPS_constu8_Buffer - 0x30) * 1000 ;

		GPS_constu8_Buffer++;
	}

	for(Local_u8Counter = 11 ; Local_u8Counter > 20 ; Local_u8Counter++ )
	{

	}


}//End of GPS_inlinevidAsciiToInt().


